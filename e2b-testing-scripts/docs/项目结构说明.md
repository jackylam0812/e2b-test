# E2B æ€§èƒ½æµ‹è¯•é¡¹ç›®ç»“æ„

## ğŸ“ ç›®å½•ç»“æ„

```
awsdev-tpl/
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ host/              â­ åœ¨å®¿ä¸»æœºä¸Šæ‰§è¡Œ
â”‚   â”‚   â””â”€â”€ 04_host_performance.py
â”‚   â”‚
â”‚   â”œâ”€â”€ client/            â­ åœ¨æµ‹è¯•å®¢æˆ·ç«¯æ‰§è¡Œ
â”‚   â”‚   â”œâ”€â”€ 01_sandbox_lifecycle.py    # å¯åŠ¨å»¶è¿Ÿæµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ 03_sandbox_performance.py  # æ²™ç®±æ€§èƒ½(éœ€SDKä¿®å¤)
â”‚   â”‚   â”œâ”€â”€ 05_cloud_storage.py        # äº‘å­˜å‚¨æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ run_all_tests.py           # ä¸»æµ‹è¯•è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ cloud_manager.py           # ç»“æœç®¡ç†
â”‚   â”‚   â”œâ”€â”€ generate_report.py         # æŠ¥å‘Šç”Ÿæˆ
â”‚   â”‚   â””â”€â”€ generate_visual_report.py  # å¯è§†åŒ–æŠ¥å‘Š
â”‚   â”‚
â”‚   â””â”€â”€ sandbox/           â­ åœ¨æ²™ç®±å†…éƒ¨æ‰§è¡Œ(æ‰‹åŠ¨)
â”‚       â”œâ”€â”€ run_cpu_test.sh
â”‚       â”œâ”€â”€ run_disk_test.sh
â”‚       â””â”€â”€ run_all_tests.sh
â”‚
â”œâ”€â”€ outputs/               # æµ‹è¯•ç»“æœ
â”œâ”€â”€ .e2b_env              # ç¯å¢ƒé…ç½®
â”œâ”€â”€ setup.sh              # ç¯å¢ƒè®¾ç½®
â”œâ”€â”€ test_all_clusters.sh  # æ‰¹é‡æµ‹è¯•
â””â”€â”€ æµ‹è¯•æ‰§è¡ŒæŒ‡å—.md       # ä½¿ç”¨è¯´æ˜ â­
```

---

## ğŸ¯ ä¸‰ä¸ªæ‰§è¡Œä½ç½®è¯´æ˜

### 1ï¸âƒ£ Host (å®¿ä¸»æœº)

**æ‰§è¡Œä½ç½®**: E2B orchestrator æ‰€åœ¨çš„ç‰©ç†/è™šæ‹Ÿæœº
**æ‰§è¡Œè€…**: SSH åˆ°å®¿ä¸»æœºåè¿è¡Œ
**æµ‹è¯•å†…å®¹**: åº•å±‚ç¡¬ä»¶æ€§èƒ½å’Œç½‘ç»œæ€§èƒ½

```bash
# åœ¨å®¿ä¸»æœºä¸Šæ‰§è¡Œ
python3 tests/host/04_host_performance.py --test all
python3 tests/host/05_cloud_storage.py --bucket your-bucket --cloud s3 --test all
```

**è¾“å‡º**:
- CPU æ€§èƒ½
- ç£ç›˜ I/O
- å¤§é¡µå†…å­˜é…ç½®
- äº‘å­˜å‚¨ä¸Šä¼ /ä¸‹è½½é€Ÿåº¦

---

### 2ï¸âƒ£ Client (æµ‹è¯•å®¢æˆ·ç«¯)

**æ‰§è¡Œä½ç½®**: ä½ çš„æœ¬åœ°å¼€å‘æœºæˆ–æµ‹è¯•æ§åˆ¶æœº
**æ‰§è¡Œè€…**: å¼€å‘äººå‘˜/æµ‹è¯•äººå‘˜
**æµ‹è¯•å†…å®¹**: ç¼–æ’æµ‹è¯•ã€ç”ŸæˆæŠ¥å‘Š

```bash
# åœ¨å®¢æˆ·ç«¯æ‰§è¡Œ
python3 tests/client/run_all_tests.py --skip-sandbox-perf
python3 tests/client/generate_visual_report.py
```

**åŠŸèƒ½**:
- è¿œç¨‹è§¦å‘æµ‹è¯•
- æ”¶é›†ç»“æœ
- ç”Ÿæˆå¯¹æ¯”æŠ¥å‘Š

---

### 3ï¸âƒ£ Sandbox (æ²™ç®±å†…)

**æ‰§è¡Œä½ç½®**: E2B sandbox å†…éƒ¨
**æ‰§è¡Œè€…**: æ‰‹åŠ¨è¿›å…¥æ²™ç®±åæ‰§è¡Œ
**æµ‹è¯•å†…å®¹**: æ²™ç®±å†…å®é™…æ€§èƒ½

**è¿›å…¥æ–¹å¼**:
```bash
# åœ¨å®¢æˆ·ç«¯ä½¿ç”¨ CLI è¿›å…¥
e2b sandbox spawn template_name
```

**åœ¨æ²™ç®±å†…æ‰§è¡Œ**:
```bash
# ä¸‹è½½æˆ–ç²˜è´´è„šæœ¬,ç„¶åè¿è¡Œ
bash run_all_tests.sh

# å¤åˆ¶è¾“å‡ºçš„ JSON ç»“æœ
# ä¿å­˜åˆ°: outputs/{cloud}/sandbox_performance_manual.json
```

---

## ğŸ”„ å®Œæ•´çš„å¤šäº‘æµ‹è¯•æµç¨‹

### å¯¹äºæ¯ä¸ªäº‘:

1. **SSH åˆ°å®¿ä¸»æœº,è¿è¡Œ Host æµ‹è¯•**
   ```bash
   python3 tests/host/04_host_performance.py --test all
   ```

2. **åœ¨å®¢æˆ·ç«¯,è¿è¡Œ Client æµ‹è¯•**
   ```bash
   python3 tests/client/run_all_tests.py --skip-sandbox-perf
   ```

3. **æ‰‹åŠ¨è¿›å…¥æ²™ç®±,è¿è¡Œ Sandbox æµ‹è¯•**
   ```bash
   e2b sandbox spawn template
   # åœ¨æ²™ç®±å†…: bash run_all_tests.sh
   # å¤åˆ¶ JSON ç»“æœ
   ```

4. **æ”¶é›†æ‰€æœ‰ç»“æœåˆ°å®¢æˆ·ç«¯**
   ```
   outputs/
   â”œâ”€â”€ aws/
   â”‚   â”œâ”€â”€ summary_report.json
   â”‚   â””â”€â”€ sandbox_performance_manual.json
   â”œâ”€â”€ gcp/
   â”‚   â””â”€â”€ ...
   â””â”€â”€ azure/
       â””â”€â”€ ...
   ```

5. **ç”Ÿæˆå¯¹æ¯”æŠ¥å‘Š**
   ```bash
   python3 tests/client/generate_visual_report.py
   ```

---

## âš¡ å¿«é€Ÿæµ‹è¯•(åªæµ‹å®¿ä¸»æœº)

å¦‚æœæš‚æ—¶ä¸éœ€è¦æ²™ç®±å†…æ•°æ®:

```bash
# ä¸€æ¡å‘½ä»¤å®Œæˆ
python3 tests/client/run_all_tests.py --skip-sandbox-perf
```

è¿™å·²ç»åŒ…å«äº†æœ€æ ¸å¿ƒçš„æ€§èƒ½æŒ‡æ ‡! âœ…

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [æµ‹è¯•æ‰§è¡ŒæŒ‡å—.md](æµ‹è¯•æ‰§è¡ŒæŒ‡å—.md) - è¯¦ç»†çš„ä¸‰éƒ¨åˆ†æµ‹è¯•è¯´æ˜
- [å¿«é€Ÿå¼€å§‹.md](å¿«é€Ÿå¼€å§‹.md) - å¿«é€Ÿå…¥é—¨
- [å·²çŸ¥é—®é¢˜å’Œä¸´æ—¶æ–¹æ¡ˆ.md](å·²çŸ¥é—®é¢˜å’Œä¸´æ—¶æ–¹æ¡ˆ.md) - SDK å…¼å®¹æ€§é—®é¢˜è¯´æ˜
